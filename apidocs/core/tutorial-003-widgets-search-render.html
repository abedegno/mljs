<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: 003-widgets-search-render</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Tutorial: 003-widgets-search-render</h1>
    
    <section>
    
<header>
    

    <h2>003-widgets-search-render</h2>
</header>  

<article>
    <p><a href="tutorial-all.html">Back to All Tutorials list</a></p>
<h1>Search Results Rendering</h1>
<p>The com.marklogic.widgets.searchresults widget supports pluggable rendering. This means if you know how to identify a
particular class of document and know how that should be rendered in a search results page, you can add your own
rendering support.</p>
<p>Out of the box is provided some default renderers. These make a best guess as to what should be used for a title or
for a summary/snippet. </p>
<p>For JSON Documents, the following fields are checked for use as a title: title, then uri</p>
<p>For JSON Documents, the following fields are checked for use as a summary: summary, then tree representation of the JSON content</p>
<p>For XML Documents, the following fields are checked for use as a title: //title[1], //name[1], //h1[1], first text() element</p>
<p>For XML Documents, the following fields are checked for use as a summary: //summary[1], //synopsis[1], //description[1], //details[1], second text() element</p>
<p>For plain text Documents, the URI is used for the title and the text content used as a summary</p>
<h2>Custom renderers</h2>
<p>A custom renderer is a pair of methods - matcher(result) and processor(result). These are both passed the result object.
This result object is a JSON object representing all information about this single result, including URI, score, and content (xml, json or text).</p>
<p>The matcher(result) function should return true if this renderer can be used to render the search result. Otherwise it must return false.</p>
<p>The processor(result) function must generate HTML and return this at the end of the function. Currently no dynamic javascript event handlers are
supported within the HTML output, but that may be added in future.</p>
<p>To add your own renderer to a searchresults widget, simply call the addProcessor(name,matcher_func,processor_func) method.</p>
<h2>Custom renderer examples</h2>
<p>There are three custom renderers previously built for different demonstrations. These show a range of functionality. The first one is a simple
example to showing a JSON movie document in a summary. The next one performs similar work for an XML document. This also shows conversion
and using XPath in the browser to extract data. </p>
<p>The final example shows how to use the built in post-render lazy loading callback feature
to paint additional information after search results are displayed. The example shown renders a description of a powerpoint slide's snippet content,
then uses lazy loading to draw an image linking to the PNG format image thumbnail for the slide.</p>
<ul>
<li><a href="https://github.com/adamfowleruk/mljs/blob/master/samples/003-renderer-json.js">Simple JSON movie example from page-mljstest-movies.js</a></li>
<li><a href="https://github.com/adamfowleruk/mljs/blob/master/samples/004-renderer-xml.js">Custom XML song renderer from PoC project</a></li>
<li><a href="https://github.com/adamfowleruk/mljs/blob/master/samples/005-renderer-lazy.js">Advanced lazy loading in powerpoint</a></li>
</ul>
<hr>
<p><a href="tutorial-all.html">Back to All Tutorials list</a></p>
</article>

</section>  

</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="BasicWrapper.html">BasicWrapper</a></li><li><a href="com.marklogic.events.Publisher.html">Publisher</a></li><li><a href="com.marklogic.semantic.tripleconfig.html">tripleconfig</a></li><li><a href="DigestWrapper.html">DigestWrapper</a></li><li><a href="mljs.html">mljs</a></li><li><a href="documentcontext.html">documentcontext</a></li><li><a href="geocontext.html">geocontext</a></li><li><a href="options.html">options</a></li><li><a href="query.html">query</a></li><li><a href="searchcontext.html">searchcontext</a></li><li><a href="searchcontext.defaultparser.html">defaultparser</a></li><li><a href="semanticcontext.html">semanticcontext</a></li><li><a href="sparqlbuilder.html">sparqlbuilder</a></li><li><a href="PassThroughWrapper.html">PassThroughWrapper</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-001-intro.html">001-intro</a></li><li><a href="tutorial-001-widgets-list.html">001-widgets-list</a></li><li><a href="tutorial-002-intro-firstpage.html">002-intro-firstpage</a></li><li><a href="tutorial-002-widgets-search.html">002-widgets-search</a></li><li><a href="tutorial-003-widgets-search-render.html">003-widgets-search-render</a></li><li><a href="tutorial-004-widgets-highcharts.html">004-widgets-highcharts</a></li><li><a href="tutorial-011-browser-create-app.html">011-browser-create-app</a></li><li><a href="tutorial-012-browser-install-app.html">012-browser-install-app</a></li><li><a href="tutorial-013-browser-samples-app.html">013-browser-samples-app</a></li><li><a href="tutorial-014-browser-workplace.html">014-browser-workplace</a></li><li><a href="tutorial-050-core-contexts.html">050-core-contexts</a></li><li><a href="tutorial-051-core-custom-searchcontext-endpoint.html">051-core-custom-searchcontext-endpoint</a></li><li><a href="tutorial-060-rest-ext.html">060-rest-ext</a></li><li><a href="tutorial-901-ontology.html">901-ontology</a></li><li><a href="tutorial-999-samples.html">999-samples</a></li><li><a href="tutorial-all.html">all</a></li></ul><h3>Global</h3><ul><li><a href="global.html#padNC">padNC</a></li><li><a href="global.html#parseDigest">parseDigest</a></li><li><a href="global.html#textToXML">textToXML</a></li><li><a href="global.html#xmlToJson">xmlToJson</a></li><li><a href="global.html#xmlToJsonSearchResults">xmlToJsonSearchResults</a></li><li><a href="global.html#xmlToJsonStrict">xmlToJsonStrict</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Fri Jan 31 2014 07:54:55 GMT-0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>